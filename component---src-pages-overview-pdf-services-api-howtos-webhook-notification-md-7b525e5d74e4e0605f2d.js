"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[7866],{93718:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return l},default:function(){return h}});var a=n(87462),o=n(45987),i=(n(15007),n(64983)),s=n(91515);const r=["components"],l={},d=(p="InlineAlert",function(e){return console.warn("Component "+p+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.mdx)("div",e)});var p;const m={_frontmatter:l},c=s.Z;function h(e){let{components:t}=e,n=(0,o.Z)(e,r);return(0,i.mdx)(c,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"webhook-notification-support-for-adobe-pdf-services-apis"},(0,i.mdx)("strong",{parentName:"h1"},"Webhook Notification Support for Adobe PDF Services APIs")),(0,i.mdx)("p",null,"Adobe PDF Service APIs now offer support for Webhook notifications. Webhooks are designed to facilitate the receipt of job completion notifications. This new feature eliminates the need for clients to manually invoke the ",(0,i.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/document-services/docs/apis/#tag/Create-PDF/operation/pdfoperations.jobstatus"},"GET Status API")," to obtain job completion status and results. Instead, they will receive automatic notifications containing the job status and result."),(0,i.mdx)("p",null,"To leverage the power of webhooks, clients are required to include the ",(0,i.mdx)("strong",{parentName:"p"},"notifiers")," key in the request body when making a call to the ",(0,i.mdx)("strong",{parentName:"p"},(0,i.mdx)("a",{parentName:"strong",href:"https://developer.adobe.com/document-services/docs/apis/#tag/Create-PDF/operation/pdfoperations.createpdf"},"Submit Job"))," API. The ",(0,i.mdx)("strong",{parentName:"p"},"notifiers")," key is designed to receive a list of objects, with each object corresponding to a specific webhook. Each notifier object is composed of two essential fields: ",(0,i.mdx)("strong",{parentName:"p"},"type")," and ",(0,i.mdx)("strong",{parentName:"p"},"data"),". Here, we provide detailed information about these fields and offer a sample request:"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("strong",{parentName:"li"},"type"),": This field specifies the type of notifier to be invoked. Currently, the only supported notifier type is ",(0,i.mdx)("a",{parentName:"li",href:"#callback-webhook-usage"},"CALLBACK"),"."),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("strong",{parentName:"li"},"data"),": This field contains the data required for the webhook. The specific data may vary depending on the type of notifier in use.")),(0,i.mdx)("p",null,"For more information on the ",(0,i.mdx)("strong",{parentName:"p"},"CALLBACK")," notifier, please refer to the ",(0,i.mdx)("a",{parentName:"p",href:"#callback-webhook-usage"},"Callback Notifier")," section."),(0,i.mdx)("h3",{id:"sample-request-body"},"Sample Request Body"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n   "assetID": "<ASSET ID>",\n   ....,\n   ///REST API Operation related details\n   ....\n\n   "notifiers": [\n      {\n         "type": "<NOTIFIER_TYPE>",\n         "data": {\n            //<NOTIFICATION_DATA>\n         }\n      }\n      }\n   ]\n}\n')),(0,i.mdx)("h2",{id:"callback-webhook-usage"},(0,i.mdx)("strong",{parentName:"h2"},"Callback Webhook Usage")),(0,i.mdx)("p",null,"The callback webhook feature allows the client to receive notifications regarding job completion on an HTTPS URL. To enable this feature, the client is required to create an HTTPS POST URL and share that URL along with the necessary header information in the request. Once the job has been successfully completed, we generate a notification payload that includes information about the job status and the details of the output assets. This payload is then sent via an HTTP POST request to the URL provided by the client."),(0,i.mdx)("h3",{id:"parameters-for-the-notifier-object"},"Parameters for the Notifier Object"),(0,i.mdx)("p",null,"When utilizing the callback webhook, the following parameters need to be included within the notifier object:"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("strong",{parentName:"li"},"type")," ",(0,i.mdx)("em",{parentName:"li"},"(Required)"),": This field should always be set to ",(0,i.mdx)("strong",{parentName:"li"},(0,i.mdx)("em",{parentName:"strong"},"CALLBACK")),"."),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("strong",{parentName:"li"},"data")," ",(0,i.mdx)("em",{parentName:"li"},"(Required)"),': The "data" field contains the following keys:',(0,i.mdx)("ul",{parentName:"li"},(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},(0,i.mdx)("em",{parentName:"strong"},"url"))," ",(0,i.mdx)("em",{parentName:"li"},"(Required)"),": This is the HTTPS POST URL created by the user to receive the callback."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},(0,i.mdx)("em",{parentName:"strong"},"headers"))," ",(0,i.mdx)("em",{parentName:"li"},"(Optional)"),": This is a map of key-value pairs and represents header-related information required to make the URL call. This field is optional but can be used to provide additional context or authentication for the callback.")))),(0,i.mdx)("h3",{id:"sample-notifier-object"},"Sample Notifier Object"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n   "assetID": "<ASSET ID>",\n   ....,\n   ///REST API Operation related details\n   ....\n\n   "notifiers": [\n      {\n         "type": "CALLBACK",\n         "data": {\n            "url": "https://dummy.callback.org/",\n            "headers": {\n               "x-api-key": "dummykey",\n               "access-token": "dummytoken"\n            }\n         }\n      }\n   ]\n}\n')),(0,i.mdx)("h3",{id:"callback-payload-on-https-url"},"Callback Payload on HTTPS URL"),(0,i.mdx)("p",null,"The notification payload sent to CALLBACK URL is same as that of ",(0,i.mdx)("strong",{parentName:"p"},"GET STATUS")," response along with jobID."),(0,i.mdx)("h4",{id:"in-case-job-completes-with-success"},"In case Job completes with Success"),(0,i.mdx)("p",null,"In case of successful job completion, the following ",(0,i.mdx)("strong",{parentName:"p"},"callback payload")," will be sent to callback url:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n   "jobID": "<JOB ID>",\n   "statusResponse": {\n      "status": "done",\n      "asset": {\n         "metadata": {\n            "type": "application/pdf",\n            "size": 318974\n         },\n         "downloadUri": "<DOWNLOAD URI",\n         "assetID": "<ASSET ID>"\n      }\n   }\n}\n')),(0,i.mdx)("h4",{id:"in-case-job-completes-with-failure"},"In case Job completes with Failure"),(0,i.mdx)("p",null,"In case of failed job completion, the following ",(0,i.mdx)("strong",{parentName:"p"},"callback payload")," will be sent to callback url:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n   "jobID": "<JOB ID>",\n   "statusResponse": {\n      "status": "failed",\n      "error": {\n         "code": "<ERROR CODE>",\n         "message": "<ERROR MESSAGE>",\n         "status": 400\n      }\n   }\n}\n')),(0,i.mdx)("h2",{id:"expected-response-from-the-client"},"Expected Response from the Client"),(0,i.mdx)("p",null,"The client is expected to return the following response payload with an HTTP status code of 200 (OK):"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n   "ack": "done"\n}\n')),(0,i.mdx)(d,{slots:"text",mdxType:"InlineAlert"}),(0,i.mdx)("p",null,"If the response code is not 200 (OK) or the expected payload is not received, it will be considered an error response. In the event of 50 error responses within a 10-minute period, webhook notification support will be temporarily blocked for that client for the next 20 minutes."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Note"),": The webhook notification support is only available in SDKs version 4.x.x and the REST APIs."))}h.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-overview-pdf-services-api-howtos-webhook-notification-md-7b525e5d74e4e0605f2d.js.map