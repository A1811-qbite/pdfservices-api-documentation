(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[9097],{615:function(e,t,a){"use strict";a.r(t),a.d(t,{_frontmatter:function(){return o},default:function(){return u}});var n,i=a(2122),r=a(9756),d=(a(5007),a(4983)),l=a(9536),m=["components"],o={},p=(n="InlineAlert",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,d.mdx)("div",e)}),s={_frontmatter:o},c=l.Z;function u(e){var t=e.components,a=(0,r.Z)(e,m);return(0,d.mdx)(c,(0,i.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"analytics"},"Analytics"),(0,d.mdx)("h2",{id:"adobe-analytics"},"Adobe Analytics"),(0,d.mdx)("p",null,"If your organization already subscribes to Adobe Analytics, rich PDF\nanalytics is yours by default. You should use Analytics as you normally\nwould; however, there are a few setup steps required to correctly map\nthe incoming data to Adobe Analytics variables."),(0,d.mdx)("h3",{id:"set-up-the-pdf-viewer"},"Set up the PDF Viewer"),(0,d.mdx)("p",null,"Since you want to track user interaction with the PDF viewer, you need\nto make sure events appear in the correct report suites. To\nautomatically receive PDF analytics events, pass the Analytics report\nsuite ID when creating the AdobeDC.View instance. You must ensure that\nAdobe Analytics is instrumented using the same ",(0,d.mdx)("inlineCode",{parentName:"p"},"reportSuiteId")," for the\nwebsite where you are embedding the PDF Viewer."),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-javascript"},'var adobeDCView = new AdobeDC.View({\n    clientId: "<YOUR_CLIENT_ID>",\n    divId: "adobe-dc-view"\n    reportSuiteId: <YOUR_Adobe_Analytics_REPORT_SUITE ID>,\n    ...\n})\n')),(0,d.mdx)("h3",{id:"configure-adobe-analytics"},"Configure Adobe Analytics"),(0,d.mdx)("p",null,"The current release requires a few configuration steps to correctly map\nPDF Embed API data collected from your PDF viewer to your report suite.\nOnce you've logged in to Analytics, do the following:"),(0,d.mdx)("p",null,"Once you've logged in to Analytics, do the following:"),(0,d.mdx)("ol",null,(0,d.mdx)("li",{parentName:"ol"},"In the top menu, go to ",(0,d.mdx)("strong",{parentName:"li"},"Admin > Report Suites"),"."),(0,d.mdx)("li",{parentName:"ol"},"Select your report suite.")),(0,d.mdx)("p",null,(0,d.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"516px"}},"\n      ",(0,d.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"42.1875%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,d.mdx)("picture",{parentName:"span"},"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/pdfservices-api-documentation/static/08015fb29e627087217655709afa0b18/cb523/aemsuite.webp 320w","/pdfservices-api-documentation/static/08015fb29e627087217655709afa0b18/88fd0/aemsuite.webp 516w"],sizes:"(max-width: 516px) 100vw, 516px",type:"image/webp"}),"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/pdfservices-api-documentation/static/08015fb29e627087217655709afa0b18/72799/aemsuite.png 320w","/pdfservices-api-documentation/static/08015fb29e627087217655709afa0b18/75dcb/aemsuite.png 516w"],sizes:"(max-width: 516px) 100vw, 516px",type:"image/png"}),"\n          ",(0,d.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/pdfservices-api-documentation/static/08015fb29e627087217655709afa0b18/75dcb/aemsuite.png",alt:"image",title:"image",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,d.mdx)("ol",{start:3},(0,d.mdx)("li",{parentName:"ol"},"Navigate to the Report Suite Manager."),(0,d.mdx)("li",{parentName:"ol"},"Highlight your report suite."),(0,d.mdx)("li",{parentName:"ol"},"Choose ",(0,d.mdx)("strong",{parentName:"li"},"Edit Settings > General > Processing Rules"),".")),(0,d.mdx)("p",null,(0,d.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"651px"}},"\n      ",(0,d.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"57.8125%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,d.mdx)("picture",{parentName:"span"},"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/pdfservices-api-documentation/static/ebf68235541538a3c8407c04b8541dfd/cb523/aemeditsettingsmenu.webp 320w","/pdfservices-api-documentation/static/ebf68235541538a3c8407c04b8541dfd/797b9/aemeditsettingsmenu.webp 640w","/pdfservices-api-documentation/static/ebf68235541538a3c8407c04b8541dfd/a9f5a/aemeditsettingsmenu.webp 651w"],sizes:"(max-width: 651px) 100vw, 651px",type:"image/webp"}),"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/pdfservices-api-documentation/static/ebf68235541538a3c8407c04b8541dfd/72799/aemeditsettingsmenu.png 320w","/pdfservices-api-documentation/static/ebf68235541538a3c8407c04b8541dfd/6af66/aemeditsettingsmenu.png 640w","/pdfservices-api-documentation/static/ebf68235541538a3c8407c04b8541dfd/1ac66/aemeditsettingsmenu.png 651w"],sizes:"(max-width: 651px) 100vw, 651px",type:"image/png"}),"\n          ",(0,d.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/pdfservices-api-documentation/static/ebf68235541538a3c8407c04b8541dfd/1ac66/aemeditsettingsmenu.png",alt:"image",title:"image",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,d.mdx)("ol",{start:6},(0,d.mdx)("li",{parentName:"ol"},"Click the ",(0,d.mdx)("strong",{parentName:"li"},"Processing Rules")," tab. You'll need to create two rules\nand configure them so that you can map collected events and event\nattributes to Analytics variables.")),(0,d.mdx)("p",null,(0,d.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"400px"}},"\n      ",(0,d.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"37.18749999999999%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,d.mdx)("picture",{parentName:"span"},"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/pdfservices-api-documentation/static/38dc98eef0368d06067f1d4305bb82ec/cb523/aemprocessingrules.webp 320w","/pdfservices-api-documentation/static/38dc98eef0368d06067f1d4305bb82ec/28a80/aemprocessingrules.webp 400w"],sizes:"(max-width: 400px) 100vw, 400px",type:"image/webp"}),"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/pdfservices-api-documentation/static/38dc98eef0368d06067f1d4305bb82ec/72799/aemprocessingrules.png 320w","/pdfservices-api-documentation/static/38dc98eef0368d06067f1d4305bb82ec/e17e5/aemprocessingrules.png 400w"],sizes:"(max-width: 400px) 100vw, 400px",type:"image/png"}),"\n          ",(0,d.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/pdfservices-api-documentation/static/38dc98eef0368d06067f1d4305bb82ec/e17e5/aemprocessingrules.png",alt:"image",title:"image",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,d.mdx)("h4",{id:"mapping-event-attibutes"},"Mapping event attibutes"),(0,d.mdx)("p",null,"You'll need to create a new rule and map event attributes sent by the\nPDF Embed API to an Adobe Analytics variable. For example, an event\nattribute might be something like a page number or title. There could be\nmany events with the same attribute (one for each event happening on a\nspecific page). The following attributes eventually become dimensions in\nyour reports:"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"a.dc.searchTerm"),(0,d.mdx)("li",{parentName:"ul"},"a.action"),(0,d.mdx)("li",{parentName:"ul"},"a.dc.pageNum"),(0,d.mdx)("li",{parentName:"ul"},"a.dc.filename")),(0,d.mdx)("p",null,"Map event attributes as follows:"),(0,d.mdx)("ol",null,(0,d.mdx)("li",{parentName:"ol"},"Choose ",(0,d.mdx)("strong",{parentName:"li"},"Add Rule"),"."),(0,d.mdx)("li",{parentName:"ol"},'Add a custom rule title such as "Event Dimensions".'),(0,d.mdx)("li",{parentName:"ol"},"Choose ",(0,d.mdx)("strong",{parentName:"li"},"Add Action")," until you have four (one for each attribute\nabove)."),(0,d.mdx)("li",{parentName:"ol"},"Select an item (event attribute) from the ",(0,d.mdx)("strong",{parentName:"li"},"With")," drop down list\n(one of those above)."),(0,d.mdx)("li",{parentName:"ol"},"Select an Analytics dimension variable from the drop down list on\nthe left."),(0,d.mdx)("li",{parentName:"ol"},'The left hand columns should remain set to "Overwrite value of".'),(0,d.mdx)("li",{parentName:"ol"},"Repeat the above steps for each incoming event attribute you track.")),(0,d.mdx)("p",null,(0,d.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"685px"}},"\n      ",(0,d.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"29.062500000000004%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,d.mdx)("picture",{parentName:"span"},"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/pdfservices-api-documentation/static/abe55d1afc461da4493d876416f2e050/cb523/aemdimmap.webp 320w","/pdfservices-api-documentation/static/abe55d1afc461da4493d876416f2e050/797b9/aemdimmap.webp 640w","/pdfservices-api-documentation/static/abe55d1afc461da4493d876416f2e050/0b9a1/aemdimmap.webp 685w"],sizes:"(max-width: 685px) 100vw, 685px",type:"image/webp"}),"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/pdfservices-api-documentation/static/abe55d1afc461da4493d876416f2e050/72799/aemdimmap.png 320w","/pdfservices-api-documentation/static/abe55d1afc461da4493d876416f2e050/6af66/aemdimmap.png 640w","/pdfservices-api-documentation/static/abe55d1afc461da4493d876416f2e050/8ce22/aemdimmap.png 685w"],sizes:"(max-width: 685px) 100vw, 685px",type:"image/png"}),"\n          ",(0,d.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/pdfservices-api-documentation/static/abe55d1afc461da4493d876416f2e050/8ce22/aemdimmap.png",alt:"image",title:"image",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,d.mdx)("h4",{id:"mapping-events"},"Mapping events"),(0,d.mdx)("p",null,'Create another new rule and map events sent by the PDF Embed API to an\nAdobe Analytics variable. Note that Analytics uses "metrics" and\n"events" interchangeably. An event is any user interaction your\nJavaScript event listener captures; for example, clicking on a button or\ncommenting on a PDF. The following events eventually become metrics\ndisplayed in your reports:'),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"a.dc.zoomLevel"),(0,d.mdx)("li",{parentName:"ul"},"a.dc.loadPDF"),(0,d.mdx)("li",{parentName:"ul"},"a.dc.viewPage"),(0,d.mdx)("li",{parentName:"ul"},"a.dc.download"),(0,d.mdx)("li",{parentName:"ul"},"a.dc.search"),(0,d.mdx)("li",{parentName:"ul"},"a.dc.bookmarkClicked"),(0,d.mdx)("li",{parentName:"ul"},"a.dc.copyText"),(0,d.mdx)("li",{parentName:"ul"},"a.dc.print")),(0,d.mdx)("p",null,"Map events as follows:"),(0,d.mdx)("ol",null,(0,d.mdx)("li",{parentName:"ol"},"Choose ",(0,d.mdx)("strong",{parentName:"li"},"Add Rule"),"."),(0,d.mdx)("li",{parentName:"ol"},'Add a custom rule title such as "Events".'),(0,d.mdx)("li",{parentName:"ol"},"Choose ",(0,d.mdx)("strong",{parentName:"li"},"Add Action")," until you have eight (one for each attribute\nabove)."),(0,d.mdx)("li",{parentName:"ol"},"Select a metric (an event) from the ",(0,d.mdx)("strong",{parentName:"li"},"To")," drop down list (one of\nthose above)."),(0,d.mdx)("li",{parentName:"ol"},"Select an Analytics event variable from the drop down list on the\nleft."),(0,d.mdx)("li",{parentName:"ol"},'The left hand column should remain set to "Set event".'),(0,d.mdx)("li",{parentName:"ol"},"Repeat the above steps for each metric (incoming event).")),(0,d.mdx)("p",null,(0,d.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"673px"}},"\n      ",(0,d.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"35%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,d.mdx)("picture",{parentName:"span"},"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/pdfservices-api-documentation/static/354ebe55e213415509794f12f08e01d8/cb523/aemsection3.webp 320w","/pdfservices-api-documentation/static/354ebe55e213415509794f12f08e01d8/797b9/aemsection3.webp 640w","/pdfservices-api-documentation/static/354ebe55e213415509794f12f08e01d8/637dd/aemsection3.webp 673w"],sizes:"(max-width: 673px) 100vw, 673px",type:"image/webp"}),"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/pdfservices-api-documentation/static/354ebe55e213415509794f12f08e01d8/72799/aemsection3.png 320w","/pdfservices-api-documentation/static/354ebe55e213415509794f12f08e01d8/6af66/aemsection3.png 640w","/pdfservices-api-documentation/static/354ebe55e213415509794f12f08e01d8/c391c/aemsection3.png 673w"],sizes:"(max-width: 673px) 100vw, 673px",type:"image/png"}),"\n          ",(0,d.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/pdfservices-api-documentation/static/354ebe55e213415509794f12f08e01d8/c391c/aemsection3.png",alt:"image",title:"image",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,d.mdx)("h3",{id:"viewing-your-data"},"Viewing your data"),(0,d.mdx)("p",null,"Set up your reporting as usual, and view the dimensions and metrics in\nyour workspace."),(0,d.mdx)("p",null,(0,d.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"717px"}},"\n      ",(0,d.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"70.3125%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,d.mdx)("picture",{parentName:"span"},"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/pdfservices-api-documentation/static/3302cb9eb89b574c77011de18bdb826c/cb523/aemreport.webp 320w","/pdfservices-api-documentation/static/3302cb9eb89b574c77011de18bdb826c/797b9/aemreport.webp 640w","/pdfservices-api-documentation/static/3302cb9eb89b574c77011de18bdb826c/5ce8c/aemreport.webp 717w"],sizes:"(max-width: 717px) 100vw, 717px",type:"image/webp"}),"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/pdfservices-api-documentation/static/3302cb9eb89b574c77011de18bdb826c/72799/aemreport.png 320w","/pdfservices-api-documentation/static/3302cb9eb89b574c77011de18bdb826c/6af66/aemreport.png 640w","/pdfservices-api-documentation/static/3302cb9eb89b574c77011de18bdb826c/0ad97/aemreport.png 717w"],sizes:"(max-width: 717px) 100vw, 717px",type:"image/png"}),"\n          ",(0,d.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/pdfservices-api-documentation/static/3302cb9eb89b574c77011de18bdb826c/0ad97/aemreport.png",alt:"image",title:"image",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,d.mdx)("h3",{id:"help-support-forum"},"Help, support, forum"),(0,d.mdx)("p",null,"For more detail about using this Adobe Analytics UI, refer to the ",(0,d.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/analytics/admin/admin-tools/processing-rules/processing-rules.html"},"help\ndocs"),".\nYou can also ask questions and get help here:"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("a",{parentName:"li",href:"https://forums.adobe.com/community/experience-cloud/analytics-cloud/analytics"},"Community forum")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("a",{parentName:"li",href:"https://helpx.adobe.com/support/analytics.html"},"Analytics Support"))),(0,d.mdx)("h2",{id:"default-analytics"},"Default analytics"),(0,d.mdx)("p",null,"If you are not subscribed to Adobe Analytics, you can still collect PDF\nanalytics events as users interact with PDFs. You enable PDF analytics\nevents by registering a callback with the API to listen the events.\nTracking PDF events provides insight into user actions and thereby helps\nyou manage and evolve the PDF experience you're delivering to customers."),(0,d.mdx)("p",null,"As always, initialize the AdobeDC View object with your client ID, and\nthen invoke the ",(0,d.mdx)("inlineCode",{parentName:"p"},"previewFile")," API on AdobeDC.View object as usual.\nFinally, register the callback to receive the events and set\n",(0,d.mdx)("inlineCode",{parentName:"p"},"enablePDFAnalytics")," to ",(0,d.mdx)("em",{parentName:"p"},"true"),":"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-javascript"},'const eventOptions = {\n  //Pass the PDF analytics events to receive.\n  //If no event is passed in listenOn, then all PDF analytics events will be received.\n  listenOn: [ AdobeDC.View.Enum.PDFAnalyticsEvents.PAGE_VIEW, AdobeDC.View.Enum.PDFAnalyticsEvents.DOCUMENT_DOWNLOAD],\n  enablePDFAnalytics: true\n}\n\nadobeDCView.registerCallback(\n  AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\n  function(event) {\n    console.log("Type " + event.type);\n    console.log("Data " + event.data);\n  }, eventOptions\n);\n')),(0,d.mdx)("p",null,"Find the working example in the ",(0,d.mdx)("a",{parentName:"p",href:"https://www.adobe.com/go/pdfembedapi_samples"},"samples\nrepo")," under\n",(0,d.mdx)("inlineCode",{parentName:"p"},"/More Samples/Capture PDF Embed API Events/"),"."),(0,d.mdx)("p",null,(0,d.mdx)("em",{parentName:"p"},"Supported analytics events")),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Event type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Event description"),(0,d.mdx)("th",{parentName:"tr",align:null},"Event data"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"DOCUMENT_OPEN"),(0,d.mdx)("td",{parentName:"tr",align:null},"On successful opening of PDF."),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{fileName: <FILE_NAME>}"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PAGE_VIEW"),(0,d.mdx)("td",{parentName:"tr",align:null},"Page information on change in page(s) in view"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{pageNumber: <PAGE_NUM>, fileName: <FILE_NAME>}"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"BOOKMARK_ITEM_CLICK"),(0,d.mdx)("td",{parentName:"tr",align:null},"On clicking on any bookmark item"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{title: <BOOKMARK_TITLE>, fileName: <FILE_NAME>}"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"DOCUMENT_DOWNLOAD"),(0,d.mdx)("td",{parentName:"tr",align:null},"When the PDF is downloaded"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{fileName: <FILE_NAME>}"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"DOCUMENT_PRINT"),(0,d.mdx)("td",{parentName:"tr",align:null},"When the PDF is printed"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{printSupported: true, fileName: <FILE_NAME>}"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"HYPERLINK_OPEN"),(0,d.mdx)("td",{parentName:"tr",align:null},"On clicking any external hyperlink in the PDF"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{type: “external”, pageNumber: <PAGE_NUM>, x: <X-coordinate of the link>, y: <Y-coordinate of the link>, url: <EXTERNAL_URL>}"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"TEXT_COPY"),(0,d.mdx)("td",{parentName:"tr",align:null},"On copying any text from a PDF. Note that the TEXT_COPY event only fires for PDF files that allow text copy; for example, secured and encrypted files do not allow copying text."),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{copiedText: <COPIED_TEXT>, fileName: <FILE_NAME>}"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"TEXT_SEARCH"),(0,d.mdx)("td",{parentName:"tr",align:null},"When the user searches for any text via the document search field"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{searchedText: <SEARCHED_TEXT>, fileName: <FILE_NAME>}"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"ZOOM_LEVEL"),(0,d.mdx)("td",{parentName:"tr",align:null},"When zoom in/out actions are performed from the page control toolbar"),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{zoomLevel: <ZOOM_LEVEL>, fileName: <FILE_NAME>}"))))),(0,d.mdx)("h2",{id:"basic-events"},"Basic events"),(0,d.mdx)("p",null,"In addition to the PDF analytics events, the PDF Embed API supports\nevents which provide insight into user actions taken related to file\npreview. These events can be received through the events callback. After\nregistering the events callback, the following file preview events are\ngenerated:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Event type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Event description"),(0,d.mdx)("th",{parentName:"tr",align:null},"Event data"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"APP_RENDERING_START"),(0,d.mdx)("td",{parentName:"tr",align:null},"When the PDF starts to render in the viewer."),(0,d.mdx)("td",{parentName:"tr",align:null},"None")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"APP_RENDERING_DONE"),(0,d.mdx)("td",{parentName:"tr",align:null},"When the first page of the PDF is displayed in the viewer.."),(0,d.mdx)("td",{parentName:"tr",align:null},"None")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"APP_RENDERING_FAILED"),(0,d.mdx)("td",{parentName:"tr",align:null},"When the PDF fails to render because of an unexpected error."),(0,d.mdx)("td",{parentName:"tr",align:null},"None")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PDF_VIEWER_OPEN"),(0,d.mdx)("td",{parentName:"tr",align:null},"When the PDF viewer opens."),(0,d.mdx)("td",{parentName:"tr",align:null},"None")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PDF_VIEWER_CLOSE"),(0,d.mdx)("td",{parentName:"tr",align:null},"When the PDF viewer closes."),(0,d.mdx)("td",{parentName:"tr",align:null},"None")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PDF_VIEWER_READY"),(0,d.mdx)("td",{parentName:"tr",align:null},"When the PDF is rendered completely and the PDF viewer is ready to perform functionalities, such as, annotations and form-filling. This event is especially useful in case of linearized PDFs to check when the PDF gets fully downloaded. To know more about linearization, see the section ",(0,d.mdx)("a",{parentName:"td",href:"howtos.md#PDF-Linearization"},"PDF Linearization"),"."),(0,d.mdx)("td",{parentName:"tr",align:null},"None")))),(0,d.mdx)("p",null,"In order to receive additional file preview events, set\n",(0,d.mdx)("inlineCode",{parentName:"p"},"enableFilePreviewEvents")," to ",(0,d.mdx)("em",{parentName:"p"},"true")," and pass it to the events callback.\nTo receive specific events, pass the list of event types in the\n",(0,d.mdx)("inlineCode",{parentName:"p"},"listenOn")," parameter. If nothing is passed to ",(0,d.mdx)("inlineCode",{parentName:"p"},"listenOn"),", then the API\nreturns all the file preview events."),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-javascript"},"const eventOptions = {\n     //Pass the events to receive.\n     //If no event is passed in listenOn, then all file preview events will be received.\n     listenOn: [ AdobeDC.View.Enum.Events.APP_RENDERING_START, AdobeDC.View.Enum.FilePreviewEvents.PREVIEW_KEY_DOWN,  AdobeDC.View.Enum.FilePreviewEvents.PREVIEW_PAGE_VIEW_SCROLLED ],\n     enableFilePreviewEvents: true\n}\n\nadobeDCView.registerCallback(\n     AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\n     function(event) {\n        console.log(event)\n     }, eventOptions\n);\n")),(0,d.mdx)("p",null,(0,d.mdx)("em",{parentName:"p"},"List of file preview events")),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Event type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Event description"),(0,d.mdx)("th",{parentName:"tr",align:null},"Event data"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PREVIEW_KEY_DOWN"),(0,d.mdx)("td",{parentName:"tr",align:null},"Any keyboard key is pressed over any PDF page."),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{ altKey: <BOOLEAN>, code: <KEY_VALUE>, composed: <BOOLEAN>, ctrlKey: <BOOLEAN>, key: <KEYBOARD_CHARACTER>, keyCode: <KEY_CODE>, location: <LOCATION>, metaKey: <BOOLEAN>, shiftKey: <BOOLEAN>, type: “keydown” }"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PREVIEW_PAGE_VIEW_SCROLLED"),(0,d.mdx)("td",{parentName:"tr",align:null},"The PDF page is scrolled."),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{ clientHeight: <CLIENT_HEIGHT>, clientWidth: <CLIENT_WIDTH>, scrollHeight: <SCROLL_HEIGHT>, scrollWidth: <SCROLL_WIDTH>, scrollLeft: <SCROLL_LEFT>, scrollTop: <SCROLL_TOP> }"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PREVIEW_DOCUMENT_CLICK"),(0,d.mdx)("td",{parentName:"tr",align:null},"A user clicks on the area in the webpage which is outside the PDF preview (excluding the top bar and left hand panel)."),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{ clientX: <CLIENT_WIDTH>, clientY: <CLIENT_HEIGHT>, pageX: <PAGE_WIDTH>, pageY: <PAGE_HEIGHT>, screenX: <SCREEN_WIDTH>, screenY: <SCREEN_HEIGHT> }"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PREVIEW_PAGE_CLICK"),(0,d.mdx)("td",{parentName:"tr",align:null},"A user clicks on any PDF page."),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{ pageNumber: <PAGE_NUMBER> }"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PREVIEW_PAGE_DOUBLE_CLICK"),(0,d.mdx)("td",{parentName:"tr",align:null},"A user double-clicks on any PDF page."),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{ pageNumber: <PAGE_NUMBER> }"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PREVIEW_PAGE_MOUSE_ENTER"),(0,d.mdx)("td",{parentName:"tr",align:null},"The mouse pointer enters any PDF page."),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{ pageNumber: <PAGE_NUMBER> }"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PREVIEW_PAGE_MOUSE_LEAVE"),(0,d.mdx)("td",{parentName:"tr",align:null},"The mouse pointer leaves any PDF page."),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{ pageNumber: <PAGE_NUMBER> }"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"CURRENT_ACTIVE_PAGE"),(0,d.mdx)("td",{parentName:"tr",align:null},"Returns the page number of the current page in view."),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{ pageNumber: <PAGE_NUMBER> }"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PREVIEW_SELECTION_END"),(0,d.mdx)("td",{parentName:"tr",align:null},"Any text is selected in the PDF."),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{ startPageNumber: <PAGE_NUMBER>, endPageNumber: <PAGE_NUMBER>, newSelection: <BOOLEAN>, selections: { page<PAGE_NUMBER>: { bbox0: { deviceBottom: <Ymin-coordinate>, deviceLeft: <Xmin-coordinate>, deviceRight: <Xmax-coordinate>, deviceTop: <Ymax-coordinate> }, bbox1: {…}, bbox2: {…}, …, bboxCount: <BBOX_COUNT> }} }"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PREVIEW_ZOOM"),(0,d.mdx)("td",{parentName:"tr",align:null},"A zoom operation is applied to any PDF page."),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"<ZOOM_LEVEL>"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PAGES_IN_VIEW_CHANGE"),(0,d.mdx)("td",{parentName:"tr",align:null},"The page in view changes to a different page through scrolling or page navigation."),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{ startPage: { pageNumber: <PAGE_NUMBER>, fractionVisible <PAGE_VISIBLE_FRACTION> }, endPage: { pageNumber: <PAGE_NUMBER>, fractionVisible <PAGE_VISIBLE_FRACTION> }}"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"UNSUPPORTED_FEATURE_FOUND"),(0,d.mdx)("td",{parentName:"tr",align:null},"When user tries to use an unsupported feature in PDF Embed API. The event data provides information about the type of unsupported feature in the featureName field and relevant metadata of PDF in the data field. For example, XFA form fields are not supported in PDF Embed API and this event is generated when a user tries to fill any such form field."),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"{ featureName: <FEATURE_NAME>, data: {hasJS: <BOOLEAN>, hasUnsupportedActions: <BOOLEAN, hasUnsupportedWidget: <BOOLEAN>, hasXFA: <BOOLEAN> }}"))))),(0,d.mdx)("h2",{id:"annotation-events"},"Annotation events"),(0,d.mdx)("p",null,"Web developers can receive events when a user interacts with an\nannotation. These events are generated for annotation actions performed\nthrough the UI."),(0,d.mdx)("p",null,"To register the events callback, set ",(0,d.mdx)("inlineCode",{parentName:"p"},"enableAnnotationEvents")," to ",(0,d.mdx)("em",{parentName:"p"},"true"),"\nand pass it to the callback. To receive specific events, pass the list\nof annotation event types in the ",(0,d.mdx)("inlineCode",{parentName:"p"},"listenOn")," parameter. If nothing is\npassed to ",(0,d.mdx)("inlineCode",{parentName:"p"},"listenOn"),", then the API returns all the annotation events."),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-javascript"},"const eventOptions = {\n   //Pass the events to receive.\n   //If no event is passed in listenOn, then all annotation events will be received.\n   listenOn: [ AdobeDC.View.Enum.AnnotationEvents.ANNOTATION_ADDED, AdobeDC.View.Enum.AnnotationEvents.ANNOTATION_UPDATED ],\n   enableAnnotationEvents: true\n }\n\n adobeDCView.registerCallback(\n   AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,\n   function(event) {\n     console.log(event.type, event.data)\n   }, eventOptions\n );\n")),(0,d.mdx)("p",null,(0,d.mdx)("em",{parentName:"p"},"List of annotation events")),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Event type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Event description"),(0,d.mdx)("th",{parentName:"tr",align:null},"Event data"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"ANNOTATION_ADDED"),(0,d.mdx)("td",{parentName:"tr",align:null},"A new annotation is added to PDF."),(0,d.mdx)("td",{parentName:"tr",align:null},"<ANNOTATION_TYPE>")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"ANNOTATION_CLICKED"),(0,d.mdx)("td",{parentName:"tr",align:null},"An existing annotation is clicked."),(0,d.mdx)("td",{parentName:"tr",align:null},"<ANNOTATION_TYPE>")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"ANNOTATION_UPDATED"),(0,d.mdx)("td",{parentName:"tr",align:null},"An existing annotation is updated."),(0,d.mdx)("td",{parentName:"tr",align:null},"<ANNOTATION_TYPE>")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"ANNOTATION_DELETED"),(0,d.mdx)("td",{parentName:"tr",align:null},"An annotation is deleted."),(0,d.mdx)("td",{parentName:"tr",align:null},"<ANNOTATION_TYPE>")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"ANNOTATION_MOUSE_OVER"),(0,d.mdx)("td",{parentName:"tr",align:null},"The cursor moves over any annotation."),(0,d.mdx)("td",{parentName:"tr",align:null},"<ANNOTATION_TYPE>")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"ANNOTATION_MOUSE_OUT"),(0,d.mdx)("td",{parentName:"tr",align:null},"The cursor moves out of any annotation."),(0,d.mdx)("td",{parentName:"tr",align:null},"<ANNOTATION_TYPE>")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"ANNOTATION_SELECTED"),(0,d.mdx)("td",{parentName:"tr",align:null},"Any existing annotation is selected."),(0,d.mdx)("td",{parentName:"tr",align:null},"<ANNOTATION_TYPE>")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"ANNOTATION_UNSELECTED"),(0,d.mdx)("td",{parentName:"tr",align:null},"A selected annotation is unselected"),(0,d.mdx)("td",{parentName:"tr",align:null},"<ANNOTATION_TYPE>")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"ANNOTATION_MODE_STARTED"),(0,d.mdx)("td",{parentName:"tr",align:null},"The user selects a particular annotation type from the toolbar."),(0,d.mdx)("td",{parentName:"tr",align:null},"<ANNOTATION_TYPE>")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"ANNOTATION_MODE_ENDED"),(0,d.mdx)("td",{parentName:"tr",align:null},"A user exits any previously selected annotation mode."),(0,d.mdx)("td",{parentName:"tr",align:null},"<ANNOTATION_TYPE>")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"ANNOTATION_COUNT"),(0,d.mdx)("td",{parentName:"tr",align:null},"Denotes the total number of annotations when any new annotation is added or any existing annotation is deleted."),(0,d.mdx)("td",{parentName:"tr",align:null},"<NUMBER_OF_ANNOTATIONS>")))),(0,d.mdx)(p,{slots:"text",mdxType:"InlineAlert"}),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"If annotation APIs are not enabled, the event data contains the type of annotation on which the event gets triggered."),(0,d.mdx)("li",{parentName:"ul"},"If annotation APIs are enabled, the event data contains the data of the annotation in JSON format on which the event gets triggered.")))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-pdf-embed-api-howtodata-md-564c752d2429a14fee18.js.map